{% extends 'base.html.twig' %}

{% block title %}
    {{ title }}
{% endblock %}
{% block javascripts %}
    {{ parent() }}
    {{ encore_entry_script_tags('adresse') }}
{% endblock %}
{% block main %}
<div class="example-wrapper">
    <h1>Mon adresse</h1>


    <form method='POST' id="createAdresse">
        <p>(<span>*</span>)Champs obligatoires</p>

        <div class="form-group">
            <label for="num_voie">Numero de voie <span>*</span></label>
            <input type="text" class="form-control" name="num_voie" id="num_voie" required placeholder="ex: 10 rue nomDeLaRue" value = "{{ flag ? adresse.numVoie : ''}}">
        </div>
        <div class="form-group">
            <label for="rue">Rue<span>*</span></label>
            <input type="text" class="form-control" name="rue" id="rue" required placeholder="ex: 10 rue nomDeLaRue" value = "{{ flag ? adresse.rue : ''}}">
        </div>
        <div class="form-group">
            <label for="complement">Complément</label>
            <input type="textarea" class="form-control" name="complement" id="complement" placeholder="ex: Bâtiment B" value = "{{ flag ? adresse.complement : ''}}">
        </div>
        <div class="form-group">
            <label for="ville">Ville <span>*</span></label>
            <input type="text" class="form-control" name="ville" id="ville" list="cityList" required placeholder="ex: Nom-De-La-Ville" value = "{{ flag ? adresse.Ville.nom : ''}}">
            <input type="hidden" name="villeId" id="villeId" value = "{{ flag ? adresse.Ville.id : ''}}">
            <datalist id="cityList"></datalist>
            <div class="form-group">
            <label for="postalCodeSelect">Code Postal <span>*</span></label>
            <select class="form-control" name="postalCodeSelect" id="postalCodeSelect" required>
                
    <option value="" {% if not flag %}selected{% endif %}>Sélectionnez un code postal</option>
    <!-- Les autres options seront ajoutées dynamiquement via JavaScript -->

            </select>
            <input type="hidden" id="selectedPostalCodesId" name="selectedPostalCodesId" value = "{{ flag ? adresse.codePostal.id : ''}}">
</div>

</div>
    </div>
        </div>
        <div class="form-group">
            <input type="submit" class="btn btn-primary" value='Enregistrer' name="submitAdresse" id="submitAdresse">
        </div>
    {% if message %}
        <div>{{ message }}</div>
    {% endif %}
     {% if app.user %}
    <a href="{{path('app_user')}}">Retour</a>
    {% endif %}
    {% endblock %}